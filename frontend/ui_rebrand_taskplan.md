# Dunetube UI Rebrand — Progressive Codex Task Plan
**Goal:** بازطراحی صفحه‌ی خانه و لندینگ Dunetube با ظاهری مشابه YouTube، اما طبق برندینگ رسمی (سفید، لهجه‌های Deep Blue و Sand، بدون مرز و مینیمال).  
**Tech Stack:** React + Vite + TypeScript + TailwindCSS

---

## 🧭 ساختار پیشرفت (Progress Tracker)
Codex باید پس از اجرای هر بخش وضعیت را در این فایل به‌روزرسانی کند:
- ✅ = انجام شده و commit شد  
- 🚧 = در حال انجام  
- ⏳ = هنوز انجام نشده  

> اگر اجرا به هر دلیل (اینترنت/توکن/زمان) قطع شد، Codex در دور بعد با خواندن همین فایل ادامه دهد: اولین بخشی که علامت ⏳ دارد را بردارد و اجرا کند. اگر بخشی 🚧 بود، همان را کامل کند.

---

## 🔧 دستور اجرای کلی برای Codex
1) این فایل را بخوان.  
2) از «فاز 1» شروع کن و به‌ترتیب جلو برو.  
3) بعد از هر فاز:
   - تست‌های سریع دستی را انجام بده.
   - Commit کن با پیام پیشنهادی همان فاز.
   - وضعیت فاز را در همین فایل به‌روزرسانی کن (⏳ → ✅) و اگر چیزی نیمه‌کاره ماند (🚧) ثبت کن.
4) اگر خطا داشتی، زیر همان فاز، بخش **Error Log** را اضافه و پر کن.

---

## 🧩 فاز 1 — تنظیم پالت برند در Tailwind
**هدف:** تعریف رنگ‌های برند، سایه‌ها و تنظیم حالت پایهٔ سفید.
**گام‌ها:**
1. ویرایش `tailwind.config.ts` و افزودن رنگ‌ها و سایه‌ها مطابق مشخصات برند:
   ```ts
   // tailwind.config.ts
   export default {
     theme: {
       extend: {
         colors: {
           brand: {
             deep: '#0A355C',  // Deep Blue
             sand: '#E8DCC8',  // Sand
             sky:  '#6EC9E8',
             olive:'#A4A169',
           },
         },
         borderRadius: { '2xl': '1.25rem' },
         boxShadow: { card: '0 2px 14px rgba(0,0,0,0.06)' },
       },
     },
   }
   ```
2. ایجاد/به‌روزرسانی `src/styles/global.css` برای سفید کردن پس‌زمینه و پایه تایپوگرافی:
   ```css
   @tailwind base;
   @tailwind components;
   @tailwind utilities;

   :root{ color-scheme: light; }
   html,body,#root{ height:100%; }
   body{ @apply bg-white text-slate-900 antialiased; }
   ```
3. اجرای پروژه و اطمینان از build موفق: `npm run dev` (یا معادل).
4. **Commit:** `feat(ui): add brand tokens and base white theme`
**Status:** ?
**وضعیت:** ⏳

---

## 🧩 فاز 2 — بازطراحی Header (مینیمال و برندمحور)
**هدف:** ساخت هدر سفید مشابه YouTube با لوگو، جستجو، زبان، تنظیمات، پروفایل.
**گام‌ها:**
1. ساخت/بازنویسی `src/components/Header.tsx` با قابلیت‌ها:
   - لوگو (کلیک → `/`)،
   - جستجو با آیکون ذره‌بین (toggle درجا، focus خودکار)،
   - سوییچر زبان (fa/en + «سایر زبان‌ها…» برای مودال کامل)،
   - دکمه تنظیمات (مودال «تنظیمات سریع» تقویم/ارز)،
   - پروفایل: مهمان → مودال لاگین، لاگین → `/profile`.
2. هدر sticky با پس‌زمینه `bg-white/90` و `backdrop-blur`، بدون زمینه‌های رنگی پهن.
3. **Commit:** `feat(ui): minimal branded Header with search/lang/settings/profile`
**Status:** ?
   - نمایش صحیح هدر در صفحه اصلی.
   - باز/بسته شدن نوار جستجو.
   - کارکرد منوی زبان و مودال تنظیمات.
   - پروفایل برای مهمان، مودال لاگین باز کند.

**وضعیت:** ⏳

---

## 🧩 فاز 3 — ایجاد FiltersBar
**هدف:** نوار فیلترهای موضوعی زیر هدر با چیپ‌های قابل‌کلیک و روابط بین آن‌ها.
**گام‌ها:**
1. ساخت `src/components/FiltersBar.tsx` با چیپ‌های toggle.
2. نمایش چیپ‌های مرتبط در صورت انتخاب یک فیلتر (در غیر این‌صورت کلیک فیلتر جدید، قبلی غیرفعال شود).
3. اتصال به state صفحه Home.
4. **Commit:** `feat(ui): add topic FiltersBar with related chips`
**Status:** ?
   - قابلیت انتخاب/لغو انتخاب.
   - اسکرول افقی روان روی موبایل.

**وضعیت:** ⏳

---

## 🧩 فاز 4 — طراحی کارت‌های دوره (CourseCard)
**هدف:** کارت‌های بدون مرز شبیه کاشی‌های YouTube؛ hover با سایه ملایم.
**گام‌ها:**
1. ساخت/بازنویسی `src/components/CourseCard.tsx` با قوانین کلیک:
   - بدنه کارت → اولین درس همان دوره (`/watch/:lessonId`),
   - عنوان/توضیح → `/course/:id`,
   - «نظرات/Reviews» → `/course/:id#comments`.
   (از `data-no-watch` برای جلوگیری از bubble روی آواتار/لینک‌ها استفاده شود.)
2. تصویر 16:9، آواتار ناشر، عنوان bold و توضیح یک‌خطی با ellipsis.
3. **Commit:** `feat(ui): borderless CourseCard with precise click behavior`
4. تست دستی:
   - عدم وجود بوردر و رفتار hover صحیح.
   - کلیک‌ها دقیقاً مطابق قانون طلایی.

**وضعیت:** ⏳

---

## 🧩 فاز 5 — بازسازی Home Page
**هدف:** مونتاژ هدر + فیلتر + کارت‌ها + ریل‌های Shorts و Exams + اسکرول بی‌نهایت.
**گام‌ها:**
1. ویرایش/ایجاد `src/pages/Home.tsx` و افزودن بخش‌ها:
   - Short videos rail (اسکرول افقی)
   - Courses grid (1→4 ستونه)
   - Exams rail (اسکرول افقی)
   - Infinite scroll با IntersectionObserver
2. **Commit:** `feat(ui): youtube-like Home with rails and infinite scroll`
3. تست دستی:
   - بارگذاری تدریجی صفحات دوره‌ها.
   - روان بودن اسکرول و پیمایش افقی ریل‌ها.
   - حفظ پس‌زمینه سفید کل صفحه.

**وضعیت:** ⏳

---

## 🧩 فاز 6 — فونت و SEO
**هدف:** افزودن فونت‌های Vazirmatn (FA) و Poppins (EN) + عنوان تب و favicon.
**گام‌ها:**
1. ویرایش `index.html` برای لینک فونت‌ها و `<title>Dunetube</title>`.
2. تنظیم اصولی fallback و بارگذاری سریع فونت.
3. **Commit:** `chore(ui): add fonts and update head metadata`
4. تست دستی:
   - خوانایی فونت‌ها.
   - نمایش صحیح عنوان و آیکون تب.

**وضعیت:** ⏳

---

## 🧩 فاز 7 — تست QA و پایش کیفیت
**هدف:** اطمینان از کیفیت و انطباق برند.
**چک‌لیست QA:**
- [ ] پس‌زمینه کاملاً سفید
- [ ] کارت‌ها بدون مرز و hover ملایم
- [ ] آبی عمیق و ماسه‌ای فقط در لوگو/CTA/هایلایت‌ها (نه پس‌زمینه‌های وسیع)
- [ ] نوار جستجو و مودال‌ها عملکرد صحیح
- [ ] کلیک‌های کارت طبق قانون طلایی
- [ ] ریل‌های ویدئوهای کوتاه و آزمون فعال
- [ ] اسکرول بی‌نهایت کار می‌کند
- [ ] Lighthouse ≥ 90 برای Home (Performance/Accessibility)

**Commit:** `test(ui): pass QA checklist for brand-compliant home`

**وضعیت:** ⏳

---

## 🧪 نکات مسیرها و ENV
- مسیرهای موردنیاز: `/`, `/watch/:id`, `/course/:id`, `/profile`, `/login`.
- `.env` → `VITE_API_BASE` (پیش‌فرض `http://127.0.0.1:8000/api`).
- API های بک‌اند: `/courses/`, `/courses/{id}/`, `/lessons/?course={id}&ordering=order`.

---

## 📘 یادداشت اجباری برای Codex
- بعد از هر commit، همین فایل را نیز به‌روزرسانی کن و در همان commit بگنجان.
- اگر خطایی رخ داد، زیر فاز مربوطه بخش زیر را اضافه کن و پر کن:
  ```
  ### Error Log
  - زمان/گام: <مثال: فاز 5/گام 1>
  - پیام خطا:
  - اقدام انجام‌شده/پیشنهاد رفع:
  ```
- در صورت توقف اجرا، در دور بعد:
  1) این فایل را بخوان.
  2) نزدیک‌ترین مورد 🚧 را ادامه بده؛ اگر نبود، اولین ⏳ را آغاز کن.

---

## 📝 تاریخچه اجرای خودکار (اختیاری)
> Codex می‌تواند این بخش را برای ثبت خلاصه هر فاز پر کند.
- 2025-..-..: شروع برنامه — ⏳ فاز 1
